# Self-Hosting 設計（初版）

## 目的
- Orizon を Orizon 自身でビルド可能にするための最小設計を定義。

## スコープ（段階）
1) フロントエンド最小核（lexer/parser/AST）
2) HIR/型検査（最小サブセット）
3) MIR/LIR/診断x64出力（既存Go実装の簡易追従）
4) ランタイム最小核（メモリ/文字列/IO）

## ミニマル言語サブセット
- スカラー型: bool, i32/i64, f32/f64, ptr
- 制御構文: if/while/for/return
- 関数: 単一戻り値、C ABI 呼出
- 配列/構造体: 読み書きとフィールド/添字

## ブートストラップ戦略
- Stage0: 現行Goコンパイラで Orizon サブセットをコード生成
- Stage1: 生成バイナリで Orizon サブセット自身を再ビルド
- Stage2: サブセット拡張と自己ホスト完了

## 成功基準
- orizon-compiler(Subset) が examples/*.oriz をビルド・実行
- 自コンパイラを再ビルドし、ビット等価 or 機能等価を検証

## リスク/緩和
- 型/コード生成差分: 受け入れテスト＋診断エミッタの改良
- ランタイム不足: Go 実装へ段階的フォールバック
